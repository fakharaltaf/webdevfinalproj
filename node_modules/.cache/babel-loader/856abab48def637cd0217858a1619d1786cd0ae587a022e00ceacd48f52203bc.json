{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CartPage=()=>{const[cart,setCart]=useState([]);// Fetch cart items from localStorage on component mount\nuseEffect(()=>{const storedCart=JSON.parse(localStorage.getItem(\"cart\"))||[];setCart(storedCart);},[]);// Update cart in localStorage and state\nconst updateCart=updatedCart=>{setCart(updatedCart);localStorage.setItem(\"cart\",JSON.stringify(updatedCart));};// Handle quantity change\nconst handleQuantityChange=(index,quantity)=>{const updatedCart=[...cart];if(quantity<1)return;// Prevent negative or zero quantity\nupdatedCart[index].quantity=quantity;updateCart(updatedCart);};// Remove item from cart\nconst handleRemove=index=>{const updatedCart=cart.filter((_,i)=>i!==index);updateCart(updatedCart);};// Calculate total price\nconst calculateTotal=()=>{return cart.reduce((total,item)=>{const price=parseFloat(item.price.replace(\"$\",\"\"));return total+price*item.quantity;},0).toFixed(2);};return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Cart\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-container\",children:cart.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-cart\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Your cart is empty!\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"ul\",{className:\"cart-list\",children:cart.map((item,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"cart-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item-details\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.img,alt:item.name,className:\"cart-item-img\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:item.name}),/*#__PURE__*/_jsx(\"p\",{children:item.description}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: \",item.price]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-actions\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"quantity-\".concat(index),children:\"Quantity:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"quantity-\".concat(index),min:\"1\",value:item.quantity,onChange:e=>handleQuantityChange(index,Number(e.target.value)),className:\"quantity-input\"}),/*#__PURE__*/_jsx(\"button\",{className:\"remove-btn\",onClick:()=>handleRemove(index),children:\"Remove\"})]})]},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-total\",children:/*#__PURE__*/_jsxs(\"h3\",{children:[\"Total: $\",calculateTotal()]})})]})})]});};export default CartPage;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CartPage","cart","setCart","storedCart","JSON","parse","localStorage","getItem","updateCart","updatedCart","setItem","stringify","handleQuantityChange","index","quantity","handleRemove","filter","_","i","calculateTotal","reduce","total","item","price","parseFloat","replace","toFixed","className","children","length","map","src","img","alt","name","description","htmlFor","concat","type","id","min","value","onChange","e","Number","target","onClick"],"sources":["F:/College/Season 5/Web Dev Application/dripper/src/pages/Cart.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nconst CartPage = () => {\r\n    const [cart, setCart] = useState([]);\r\n\r\n    // Fetch cart items from localStorage on component mount\r\n    useEffect(() => {\r\n        const storedCart = JSON.parse(localStorage.getItem(\"cart\")) || [];\r\n        setCart(storedCart);\r\n    }, []);\r\n\r\n    // Update cart in localStorage and state\r\n    const updateCart = (updatedCart) => {\r\n        setCart(updatedCart);\r\n        localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\r\n    };\r\n\r\n    // Handle quantity change\r\n    const handleQuantityChange = (index, quantity) => {\r\n        const updatedCart = [...cart];\r\n        if (quantity < 1) return; // Prevent negative or zero quantity\r\n        updatedCart[index].quantity = quantity;\r\n        updateCart(updatedCart);\r\n    };\r\n\r\n    // Remove item from cart\r\n    const handleRemove = (index) => {\r\n        const updatedCart = cart.filter((_, i) => i !== index);\r\n        updateCart(updatedCart);\r\n    };\r\n\r\n    // Calculate total price\r\n    const calculateTotal = () => {\r\n        return cart\r\n            .reduce((total, item) => {\r\n                const price = parseFloat(item.price.replace(\"$\", \"\"));\r\n                return total + price * item.quantity;\r\n            }, 0)\r\n            .toFixed(2);\r\n    };\r\n\r\n    return (\r\n        <div className=\"cart-page\">\r\n            <h2>Your Cart</h2>\r\n            <div className=\"cart-container\">\r\n                {cart.length === 0 ? (\r\n                    <div className=\"empty-cart\">\r\n                        <p>Your cart is empty!</p>\r\n                    </div>\r\n                ) : (\r\n                    <>\r\n                        <ul className=\"cart-list\">\r\n                            {cart.map((item, index) => (\r\n                                <li key={index} className=\"cart-item\">\r\n                                    <div className=\"item-details\">\r\n                                        <img\r\n                                            src={item.img}\r\n                                            alt={item.name}\r\n                                            className=\"cart-item-img\"\r\n                                        />\r\n                                        <div>\r\n                                            <h3>{item.name}</h3>\r\n                                            <p>{item.description}</p>\r\n                                            <p>Price: {item.price}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"item-actions\">\r\n                                        <label htmlFor={`quantity-${index}`}>\r\n                                            Quantity:\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            id={`quantity-${index}`}\r\n                                            min=\"1\"\r\n                                            value={item.quantity}\r\n                                            onChange={(e) =>\r\n                                                handleQuantityChange(\r\n                                                    index,\r\n                                                    Number(e.target.value)\r\n                                                )\r\n                                            }\r\n                                            className=\"quantity-input\"\r\n                                        />\r\n                                        <button\r\n                                            className=\"remove-btn\"\r\n                                            onClick={() => handleRemove(index)}\r\n                                        >\r\n                                            Remove\r\n                                        </button>\r\n                                    </div>\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                        <div className=\"cart-total\">\r\n                            <h3>Total: ${calculateTotal()}</h3>\r\n                        </div>\r\n                    </>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CartPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}